name: .NET

on:
push:
branches: [ "main" ]
pull_request:
branches: [ "main" ]

jobs:
build:
runs-on: ubuntu-latest

steps:
- name: Checkout
  uses: actions/checkout@v4

- name: Setup .NET
  uses: actions/setup-dotnet@v4
  with:
    dotnet-version: 8.0.x

- name: Restore dependencies
  run: dotnet restore ForHinanden.Api.csproj

- name: Build
  run: dotnet build ForHinanden.Api.csproj --no-restore --configuration Release

# Her vil dotnet test fejle, hvis du ikke har et RIGTIGT test-projekt.
# Når du laver et test-projekt (fx ForHinanden.Tests/ForHinanden.Tests.csproj),
# så skal du ÆNDRE linjen nedenfor til at pege på test-projektet i stedet.
- name: Test
  run: dotnet test ForHinanden.Api.csproj --no-build --configuration Release --verbosity normal
